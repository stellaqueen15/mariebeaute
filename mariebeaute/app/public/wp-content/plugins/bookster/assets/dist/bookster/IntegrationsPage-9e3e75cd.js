var e,t,a;import{c as n,e as r,G as l,T as o,b as i,L as s,r as m,R as c,_ as b,f as u,u as p,a as d,d as g}from"./prefetch.helper-4a4e89e7.js";import{P as w}from"./UIComponents-1eb3bdbf.js";import{p as E,i as _,a as f,D as v}from"./color.helper-9b8c6bb8.js";import{g as h,e as y}from"./BEConfigProvider-697f66d7.js";import{H as x}from"./HiddenInput-2f0ce489.js";const k={general_options:{body_background:"#FFFFFF",mail_background:"#F3F4F5",mail_footer:"{site_link} - Powered by {Bookster}",primary_color:"#2563EB",sender_email:"admin@gmail.com",sender_name:"Bookster",text_color:"#1F2937"},manager_email:{cc_emails:[],recipient:"admin@gmail.com"},notifications:{approved_appt_agent:{enabled:!0,heading:"Approved appointment: #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nCongratulation on the {service_name} appointment with {customer_name}!",subject:"[{site_title}]: Approved appointment #{appt_number}"},approved_appt_customer:{enabled:!0,heading:"Appointment confirmed #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nYour {service_name} appointment has been confirmed.",subject:"Your {site_title} appointment has been confirmed!"},canceled_appt_agent:{enabled:!1,heading:"Canceled appointment: #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nYour {service_name} appointment with {customer_name} has been canceled.",subject:"[{site_title}]: Canceled appointment #{appt_number}"},manual_resend_appt_agent:{heading:"Details for appointment #{appt_number}",message:"Hi <strong>{agent_name}</strong>,\nYou have a {service_name} appointment with {customer_name}.",subject:"[{site_title}]: Details for appointment #{appt_number}"},manual_resend_appt_customer:{heading:"Details for appointment #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nYou have a {service_name} appointment with {agent_name}.",subject:"Details for appointment #{appt_number} on {site_title}"},new_booking_manager:{enabled:!0,heading:"New Booking: #{appt_number}",message:"Hi <strong>Manager</strong>,\nYou have received the following booking from {customer_name}.",subject:"[{site_title}]: New booking #{appt_number}"},new_pending_booking_customer:{enabled:!0,heading:"Booking received #{appt_number}",message:"Hi <strong>{customer_name}</strong>,\nThank you for your booking. We are working on your schedule.",subject:"Your {site_title} booking has been received!"}}};function N(e,t){return n.api.patch("settings/email-notice-options",{json:{notice_event:e,notice_options:t}})}function S(e,t){return n.api.patch("settings/email-notice-options",{json:{notice_event:e,notice_options:t}})}function C(e,t,a){return n.api.patch("settings/send-preview-email",{json:{notice_event:e,recipient:t,template_options:a}})}const F={subject:"{site_title} - Preview Email",heading:"This is a preview email",message:"Hi <strong>Administrator</strong>,<br/>Please preview if the email options are working correctly."};function T(e){return{sender_name:e.sender_name,sender_email:e.sender_email,mail_footer:e.mail_footer,primary_color:E(e.primary_color),text_color:E(e.text_color),mail_background:E(e.mail_background),body_background:E(e.body_background)}}const M=window.booksterMeta.wpPath.managerAppUrl,A=r.dayjs().add(7,"day").hour(10).minute(0).second(0).millisecond(0),I=A.add(30,"minute"),B={site_title:window.booksterMeta.meta.siteTitle,site_link:`<a href="${window.booksterMeta.wpPath.siteUrl}" target="_blank" style="color: var(--btrm-p);font-size: inherit;font-weight: inherit; text-decoration: underline;">${window.booksterMeta.meta.siteTitle}</a>`,appt_number:"12345",appt_url:`${M}#/appointments?code=12345`,appt_datetime:`${A.format(l)} - ${I.format(o)}`,service_name:i.sprintf(i.__("Best %(service)s Ever","bookster"),s),customer_name:"Grace Stone",agent_name:"Emma Harper",book_status:"approved",payment_status:"complete",Bookster:'<a href="https://wpbookster.com/" target="_blank" style="color: var(--btrm-p);font-size: inherit;font-weight: inherit; text-decoration: underline;">Bookster</a>'};function P(e){let t=e;return Object.entries(B).forEach((([e,a])=>{t=t.replace(new RegExp(`{${e}}`,"g"),a)})),t=t.replace(/\n/g,"<br />"),t}const j=m.createContext(void 0);function D({placeholder:e,preview:t,disabled:a=!1}){const{copied:n,onCopy:r}=function(){const e=m.useContext(j);if(!e)throw new Error("useCopiedContext must be used within a CopiedContext.Provider");return e}();return c.createElement("div",{className:b.cx("bw-flex bw-cursor-pointer bw-flex-nowrap bw-items-center bw-rounded-sm bw-px-2 bw-py-1 hover:bw-bg-primary/10",a&&"bw-pointer-events-none bw-opacity-50"),onClick:()=>r(e)},c.createElement("div",{"btr-placeholder-label":"",className:b.cx("bw-flex-[2] bw-text-primary",a&&"bw-text-muted-foreground")},e),c.createElement("div",{"btr-placeholder-description":"",className:"bw-flex-[3] bw-font-medium bw-text-base-foreground/80"},t),c.createElement("div",{className:b.cx("bw-flex-none bw-text-transparent",e===n&&"bw-text-success")},"Copied"))}function z({className:e,mode:t="appointment",...a}){const[n,r]=m.useState("");return c.createElement("div",{className:b.cx("",e),...a},c.createElement(j.Provider,{value:{copied:n,onCopy:function(e){navigator.clipboard.writeText(e),n!==e&&(r(e),setTimeout((()=>{r((t=>t===e?"":t))}),5e3))}}},c.createElement(L,null,"Site"),c.createElement(V,null,c.createElement(D,{placeholder:"{site_title}",preview:"Wordpress Site Title"}),c.createElement(D,{placeholder:"{site_link}",preview:"Wordpress Site Address (URL)"})),c.createElement(L,null,"Appointment"),c.createElement(V,{className:b.clsx("appointment"!==t&&"bw-pointer-events-none [&_[btr-placeholder-label]]:bw-text-muted-foreground/80")},c.createElement(D,{placeholder:"{appt_number}",preview:"Appointment Number"}),c.createElement(D,{placeholder:"{customer_name}",preview:i.sprintf(i.__("%(customer)s Full Name","bookster"),s)}),c.createElement(D,{placeholder:"{agent_name}",preview:i.sprintf(i.__("%(agent)s Full Name","bookster"),s)}),c.createElement(D,{placeholder:"{service_name}",preview:i.sprintf(i.__("%(service)s Name","bookster"),s)}),c.createElement(D,{placeholder:"{appt_datetime}",preview:"Appointment Date & Time"}),c.createElement(D,{placeholder:"{book_status}",preview:"Appointment Book Status"}),c.createElement(D,{placeholder:"{payment_status}",preview:"Appointment Payment Status"}),c.createElement(D,{placeholder:"{appt_url}",preview:"Appointment URL"})),c.createElement(L,null,"Bookster"),c.createElement(V,null,c.createElement(D,{placeholder:"{Bookster}",preview:"Bookster Credit Link"}))))}const L=b.styled.p("bw-text-sm bw-text-base-foreground/60"),V=b.stylex.div("bw-flex bw-flex-col bw-gap-0.5 bw-py-1 bw-mb-3");function R({footer:e}){return c.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{padding:"8px 0",verticalAlign:"middle",textAlign:"center"}},c.createElement("p",{style:{margin:0,fontSize:"inherit",color:"var(--btrm-bodyfg)"},dangerouslySetInnerHTML:{__html:e}})))))}function q(){return c.createElement(c.Fragment,null,c.createElement("p",{style:{color:"var(--btrm-p)",fontSize:22,fontWeight:600,textAlign:"center",margin:"0 0 16px"}},"AppointmentÂ ",c.createElement("a",{style:{color:"var(--btrm-p)",fontSize:"inherit",fontWeight:"inherit",textDecoration:"underline"},href:B.appt_url,target:"_blank"},"#",B.appt_number)),c.createElement("p",{style:{fontSize:18,fontWeight:500,color:"inherit",margin:0}},B.service_name),c.createElement("p",{style:{color:"var(--btrm-p)",fontSize:"inherit",margin:0}},B.appt_datetime),c.createElement("div",null,c.createElement("table",{style:{border:0,borderSpacing:0,width:"100%",margin:"16px 0"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{width:"50%",borderRight:"1px dashed var(--btrm-bodyfg60)"}},c.createElement("p",{style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",margin:0}},i.sprintf(i.__("%(customer)s:","bookster"),s)),c.createElement("p",{style:{fontSize:18,fontWeight:500,margin:0}},B.customer_name)),c.createElement("td",null,c.createElement("p",{style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",margin:0,textAlign:"right"}},s.agent,":"),c.createElement("p",{style:{fontSize:18,fontWeight:500,margin:0,textAlign:"right"}},B.agent_name)))))),c.createElement("div",null,c.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{colSpan:2,style:{fontSize:14,fontWeight:500,color:"var(--btrm-bodyfg60)",textAlign:"center"}},i.__("Booking Details","bookster"))),c.createElement("tr",null,c.createElement("td",{colSpan:2,style:{borderTop:"1px dashed var(--btrm-bodyfg40)",padding:"16px 0 0 0"}})),c.createElement("tr",null,c.createElement("td",{style:{margin:0}},B.service_name," ( ",n.formatPrice(199),"x1 )"),c.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(199))),c.createElement("tr",null,c.createElement("td",{style:{margin:0}},"Discount"),c.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(-20))),c.createElement("tr",null,c.createElement("td",{style:{fontSize:17,fontWeight:600,margin:0,padding:"8px 0"}},"Subtotal"),c.createElement("td",{style:{fontSize:17,fontWeight:600,margin:0,padding:"8px 0",textAlign:"right"}},n.formatPrice(179))),c.createElement("tr",null,c.createElement("td",{style:{margin:0}},"VAT"),c.createElement("td",{style:{margin:0,textAlign:"right"}},n.formatPrice(10))),c.createElement("tr",null,c.createElement("td",{colSpan:2,style:{borderBottom:"1px dashed var(--btrm-bodyfg40)",padding:"16px 0 0 0"}})),c.createElement("tr",null,c.createElement("td",{style:{fontSize:20,fontWeight:700,margin:0,padding:"16px 0 0 0"}},"Total"),c.createElement("td",{style:{fontSize:20,fontWeight:700,margin:0,padding:"16px 0 0 0",textAlign:"right"}},n.formatPrice(189)))))))}function H({message:e}){return c.createElement("table",{style:{border:0,borderSpacing:0,borderRadius:"0 0 8px 8px",width:"100%",backgroundColor:"var(--btrm-bodybg)",color:"var(--btrm-bodyfg)"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{padding:"24px 24px",display:"block",fontSize:16,textAlign:"left"}},c.createElement("div",null,c.createElement("p",{style:{color:"inherit",fontSize:"inherit",margin:"0 0 16px"},dangerouslySetInnerHTML:{__html:e}}),c.createElement(q,null))))))}function O({heading:e}){return c.createElement("table",{style:{border:0,borderSpacing:0,borderRadius:"8px 8px 0 0",width:"100%",backgroundColor:"var(--btrm-p)"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{padding:"16px 24px",display:"block"}},c.createElement("h1",{style:{color:"var(--btrm-pfg)",backgroundColor:"inherit",fontSize:24,fontWeight:500,margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:e}})))))}function W({heading:e,message:t}){return c.createElement("table",{style:{border:0,borderSpacing:0,width:"100%"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{verticalAlign:"top",padding:0}},c.createElement(O,{heading:e}))),c.createElement("tr",null,c.createElement("td",{style:{verticalAlign:"top",padding:0}},c.createElement(H,{message:t})))))}const U=m.memo((function({className:e,heading:t,message:a,footer:n,...r}){return c.createElement(b.ScrollArea,{className:b.clsx("bookster-email-preview bw-rounded",e),...r},c.createElement(b.Scrollbar,{orientation:"horizontal"}),c.createElement("div",{style:{backgroundColor:"var(--btrm-mailbg)",padding:0,margin:0,offset:0}},c.createElement("table",{style:{width:"100%"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{minWidth:20}}),c.createElement("td",{style:{width:576}},c.createElement("div",{style:{margin:"0 auto",padding:"20px 0 0 0",width:"100%",maxWidth:576,fontSize:16,WebkitTextSizeAdjust:"none"}},c.createElement("table",{style:{border:0,borderSpacing:0,height:"100%",width:"100%"}},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{style:{verticalAlign:"top",padding:0}},c.createElement(W,{heading:t,message:a}))),c.createElement("tr",null,c.createElement("td",{style:{verticalAlign:"top",padding:0}},c.createElement(R,{footer:n}))))))),c.createElement("td",{style:{minWidth:20}}))))))}));function Y(e){const t=u.Form.useFormInstance(),a=u.Form.useWatch([],t),n=window.booksterManagerData.emailSettings.general_options,r=m.useMemo((()=>{const e=E((null==a?void 0:a.primary_color)||n.primary_color||"#2563EB"),t=_(e)?"#1F2937":"#FFFFFF",r=E((null==a?void 0:a.text_color)||n.text_color||"#1F2937"),l=_(r),o=f(r,l?-40:40),i=f(r,l?-60:60);return{"--btrm-p":e,"--btrm-pfg":t,"--btrm-bodybg":E((null==a?void 0:a.body_background)||n.body_background||"#FFFFFF"),"--btrm-bodyfg":r,"--btrm-bodyfg60":o,"--btrm-bodyfg40":i,"--btrm-mailbg":E((null==a?void 0:a.mail_background)||n.mail_background||"#F9FAFB")}}),[a,n]),l=m.useMemo((()=>P((null==a?void 0:a.mail_footer)||n.mail_footer||"")),[a,n]);return c.createElement(U,{style:r,heading:F.heading,message:F.message,footer:l,...e})}function $(){const[e]=u.Form.useForm(),t=p((e=>e.wpUserInfo.email)),[a,r]=m.useState(!1),l=h().testEmail,[o,s]=m.useState(l);async function d(){try{r(!0);const l=e.getFieldsValue();await(t=o,a=T(l),n.api.patch("settings/send-preview-email",{json:{notice_event:"dummy_notice_event",template_options:F,recipient:t,general_options:a}})),y({testEmail:o}),b.toast.success(i.__("Test Email has been Sent Successfully!","bookster"))}catch(l){const e=await n.getErrorMsg(l);b.toast.error(e)}finally{r(!1)}var t,a}const g=window.booksterManagerData.emailSettings.general_options;return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{r(!0);const a=T(e);await(t={general_options:a},n.api.patch("settings/email-general-options",{json:t})),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.general_options=a}catch(a){const e=await n.getErrorMsg(a);b.toast.error(e)}finally{r(!1)}var t},initialValues:g},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:a}),c.createElement("div",null,c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},"Email Options"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},"Customize the appearance of your emails.",c.createElement("br",null),'Click the "Send Test Email" button to ensure your email server is working correctly.'),c.createElement(b.Separator,{className:"bw-mb-12 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement(u.Form.Item,{label:"Sender Name",name:"sender_name",className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,{placeholder:G})),c.createElement(u.Form.Item,{label:"Sender Email",name:"sender_email",className:"bw-mb-4",rules:[{required:!0},{type:"email"}]},c.createElement(b.Input,{type:"email",placeholder:t})),c.createElement(u.Form.Item,{label:"Mail Footer",name:"mail_footer",className:"bw-mb-4",rules:[{required:!0},{max:500}]},c.createElement(b.Textarea,{placeholder:"{site_link} - Powered by {Bookster}"})),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement(u.Form.Item,{label:"Primary Color",name:"primary_color",className:"bw-mb-4"},c.createElement(u.ColorPicker,{presets:v})),c.createElement(u.Form.Item,{label:"Text Color",name:"text_color",className:"bw-mb-4"},c.createElement(u.ColorPicker,{presets:v})),c.createElement(u.Form.Item,{label:"Mail Background",name:"mail_background",className:"bw-mb-4"},c.createElement(u.ColorPicker,{presets:v})),c.createElement(u.Form.Item,{label:"Body Background",name:"body_background",className:"bw-mb-4"},c.createElement(u.ColorPicker,{presets:v}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue(k.general_options)}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(b.TabsRoot,{defaultValue:"preview"},c.createElement(b.TabsList,null,c.createElement(b.LineTabsTrigger,{value:"preview"},"Preview"),c.createElement(b.LineTabsTrigger,{value:"placeholders"},"Placeholders")),c.createElement(b.TabsContent,{value:"preview"},c.createElement("div",{className:"bw-flex bw-flex-col bw-items-stretch bw-gap-6"},c.createElement(Y,{className:"bw-min-w-[30rem] bw-flex-none "}),c.createElement("div",{className:"bw-flex bw-justify-end bw-gap-2"},c.createElement(b.Input,{type:"email",className:"bw-w-72",withStatus:!1,value:o,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(d(),e.preventDefault())}}),c.createElement(b.Button,{variant:"trivial",onClick:d},"Send Test Email")))),c.createElement(b.TabsContent,{value:"placeholders"},c.createElement(z,{mode:"site"}))))))}const G=window.booksterMeta.meta.siteTitle;function K(e){return c.createElement(b.Tooltip,{content:c.createElement(c.Fragment,null,"Turn on to send this notification",c.createElement("br",null),"automatically in the background")},c.createElement("div",{className:"bw-flex bw-items-center"},c.createElement(b.Switch,{...e})))}function Q(){const[e,t]=m.useState(!1),a=n.useNavigate();async function r([e,a]){try{t(!0),await function(e,t){return n.api.patch("settings/email-notice-options/enabled",{json:{notice_event:e,enabled:t}})}(e,a),b.toast.success(i.__("Notification Configuration has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications[e].enabled=a}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{t(!1)}}return c.createElement("div",{className:"bw-relative bw-me-auto bw-max-w-screen-md"},c.createElement(b.LoadingOverlay,{loading:e}),c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},"Email Notifications"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},"The notifications from Bookster are listed below."),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("ul",{className:"bw-divide-y bw-divide-base-border"},c.createElement(J,null,c.createElement(X,null,c.createElement(K,{checked:ae.new_booking_manager.enabled,onCheckedChange:e=>r(["new_booking_manager",e])}),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/new_booking_manager")},"New Booking")),c.createElement(ee,null,"to Manager"),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/new_booking_manager")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(K,{checked:ae.new_pending_booking_customer.enabled,onCheckedChange:e=>r(["new_pending_booking_customer",e])}),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/new_pending_booking_customer")},"New Pending Booking")),c.createElement(ee,null,i.sprintf(i.__("to %(customer)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/new_pending_booking_customer")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(K,{checked:ae.approved_appt_customer.enabled,onCheckedChange:e=>r(["approved_appt_customer",e])}),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/approved_appt_customer")},"Approved Appointment")),c.createElement(ee,null,i.sprintf(i.__("to %(customer)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/approved_appt_customer")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(K,{checked:ae.approved_appt_agent.enabled,onCheckedChange:e=>r(["approved_appt_agent",e])}),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/approved_appt_agent")},"Approved Appointment")),c.createElement(ee,null,i.sprintf(i.__("to %(agent)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/approved_appt_agent")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(K,{checked:ae.canceled_appt_agent.enabled,onCheckedChange:e=>r(["canceled_appt_agent",e])}),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/canceled_appt_agent")},"Canceled Appointment")),c.createElement(ee,null,i.sprintf(i.__("to %(agent)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/canceled_appt_agent")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(b.Tooltip,{content:"Sent Manually"},c.createElement(b.Button,{className:"bw-mx-2 bw-rounded-full",variant:"outline",size:"icon",color:"primary"},c.createElement(d.Check,null))),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/manual_resend_appt_customer")},"Resend Appointment")),c.createElement(ee,null,i.sprintf(i.__("to %(customer)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/manual_resend_appt_customer")},"Configure"))),c.createElement(J,null,c.createElement(X,null,c.createElement(b.Tooltip,{content:"Sent Manually"},c.createElement(b.Button,{className:"bw-mx-2 bw-rounded-full",variant:"outline",size:"icon",color:"primary"},c.createElement(d.Check,null))),c.createElement(Z,{onClick:()=>a("/integrations/email/notifications/manual_resend_appt_agent")},"Resend Appointment")),c.createElement(ee,null,i.sprintf(i.__("to %(agent)s","bookster"),s)),c.createElement(te,null,c.createElement(b.Button,{variant:"ghost",onClick:()=>a("/integrations/email/notifications/manual_resend_appt_agent")},"Configure")))))}const J=b.styled.li("bw-grid bw-grid-cols-5 bw-items-center bw-py-3"),X=b.styled.div("bw-col-span-2 bw-flex bw-gap-2 bw-items-center"),Z=b.styled.a("bw-font-medium bw-text-base-foreground hover:bw-underline"),ee=b.styled.div("bw-col-span-2 bw-text-base-foreground/60"),te=b.styled.div("bw-col-span-1 bw-flex bw-justify-end"),ae=window.booksterManagerData.emailSettings.notifications;function ne(){const e=n.useNavigate();return c.createElement(b.Tooltip,{content:"Back to List"},c.createElement(b.Button,{variant:"link",onClick:()=>e("/integrations/email/notifications")},c.createElement(d.Undo2,null),c.createElement("span",{className:"bw-hidden 2xl:bw-inline"},"Back to List")))}function re(e){const t=u.Form.useFormInstance(),a=u.Form.useWatch(["notice_options","heading"],t),n=u.Form.useWatch(["notice_options","message"],t),r=window.booksterManagerData.emailSettings.general_options,l=m.useMemo((()=>{const e=E(r.primary_color||"#2563EB"),t=_(e)?"#1F2937":"#FFFFFF",a=E(r.text_color||"#1F2937"),n=_(a),l=f(a,n?-40:40),o=f(a,n?-60:60);return{"--btrm-p":e,"--btrm-pfg":t,"--btrm-bodybg":E(r.body_background||"#FFFFFF"),"--btrm-bodyfg":a,"--btrm-bodyfg60":l,"--btrm-bodyfg40":o,"--btrm-mailbg":E(r.mail_background||"#F9FAFB")}}),[r]),o=m.useMemo((()=>a?P(a):F.heading),[a,r]),i=m.useMemo((()=>n?P(n):F.message),[n,r]),s=m.useMemo((()=>P(r.mail_footer)),[r]);return c.createElement(U,{style:l,heading:o,message:i,footer:s,...e})}function le({onSendPreviewEmail:e}){const t=h().testEmail,[a,n]=m.useState(t);async function r(t){await e(t),y({testEmail:t})}return c.createElement(b.TabsRoot,{defaultValue:"preview"},c.createElement(b.TabsList,null,c.createElement(b.LineTabsTrigger,{value:"preview"},"Preview"),c.createElement(b.LineTabsTrigger,{value:"placeholders"},"Placeholders")),c.createElement(b.TabsContent,{value:"preview"},c.createElement("div",{className:"bw-flex bw-flex-col bw-items-stretch bw-gap-6"},c.createElement(re,{className:"bw-min-w-[30rem] bw-flex-none"}),c.createElement("div",{className:"bw-flex bw-justify-end bw-gap-2"},c.createElement(b.Input,{type:"email",className:"bw-w-72",withStatus:!1,value:a,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(r(a),e.preventDefault())}}),c.createElement(b.Button,{variant:"trivial",onClick:()=>r(a)},"Send Preview Email")))),c.createElement(b.TabsContent,{value:"placeholders"},c.createElement(z,{mode:"appointment"})))}function oe(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.approved_appt_agent};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await N("approved_appt_agent",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.approved_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("Approved Appointment Notification To %(agent)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("Trigger when Appointment status set to Approved. This email will be sent to the %(agent)s","bookster"),s),".",c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement("div",{className:"bw-mb-4 bw-grid bw-grid-cols-[repeat(24,minmax(0,1fr))]"},c.createElement("div",{className:"bw-col-span-7"}),c.createElement("div",{style:{gridColumn:"span 17 / span 17"},className:"bw-flex bw-items-center bw-gap-2"},c.createElement(u.Form.Item,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},c.createElement(b.Switch,{id:"enable-notice"})),c.createElement(b.Label,{htmlFor:"enable-notice",className:"bw-cursor-pointer bw-font-medium"},"Enable This Email Notification."))),c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.approved_appt_agent})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("approved_appt_agent",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function ie(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.approved_appt_customer};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await N("approved_appt_customer",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.approved_appt_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("Approved Appointment Notification To %(customer)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("Trigger when Appointment status set to Approved. This email will be sent to the %(customer)s.","bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement("div",{className:"bw-mb-4 bw-grid bw-grid-cols-[repeat(24,minmax(0,1fr))]"},c.createElement("div",{className:"bw-col-span-7"}),c.createElement("div",{style:{gridColumn:"span 17 / span 17"},className:"bw-flex bw-items-center bw-gap-2"},c.createElement(u.Form.Item,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},c.createElement(b.Switch,{id:"enable-notice"})),c.createElement(b.Label,{htmlFor:"enable-notice",className:"bw-cursor-pointer bw-font-medium"},"Enable This Email Notification."))),c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.approved_appt_customer})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("approved_appt_customer",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function se(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.canceled_appt_agent};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await N("canceled_appt_agent",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.canceled_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("Canceled Appointment Notification To %(agent)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("Trigger when Appointment status set to Canceled. This email will be sent to the %(agent)s","bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement("div",{className:"bw-mb-4 bw-grid bw-grid-cols-[repeat(24,minmax(0,1fr))]"},c.createElement("div",{className:"bw-col-span-7"}),c.createElement("div",{style:{gridColumn:"span 17 / span 17"},className:"bw-flex bw-items-center bw-gap-2"},c.createElement(u.Form.Item,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},c.createElement(b.Switch,{id:"enable-notice"})),c.createElement(b.Label,{htmlFor:"enable-notice",className:"bw-cursor-pointer bw-font-medium"},"Enable This Email Notification."))),c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.canceled_appt_agent})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("canceled_appt_agent",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function me(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.new_booking_manager,manager_email:window.booksterManagerData.emailSettings.manager_email};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await("new_booking_manager",t=e.notice_options,r=e.manager_email,n.api.patch("settings/email-notice-options",{json:{notice_event:"new_booking_manager",notice_options:t,manager_email:r}})),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.manager_email=e.manager_email,window.booksterManagerData.emailSettings.notifications.new_booking_manager=e.notice_options}catch(l){const e=await n.getErrorMsg(l);b.toast.error(e)}finally{a(!1)}var t,r},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},"New Booking Notification To Manager"),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("Trigger when a %(customer)s makes a New booking. This email will be sent to the Manager.","bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement("div",{className:"bw-mb-4 bw-grid bw-grid-cols-[repeat(24,minmax(0,1fr))]"},c.createElement("div",{className:"bw-col-span-7"}),c.createElement("div",{style:{gridColumn:"span 17 / span 17"},className:"bw-flex bw-items-center bw-gap-2"},c.createElement(u.Form.Item,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},c.createElement(b.Switch,{id:"enable-notice"})),c.createElement(b.Label,{htmlFor:"enable-notice",className:"bw-cursor-pointer bw-font-medium"},"Enable This Email Notification."))),c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3})),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement(u.Form.Item,{label:"Recipient",name:["manager_email","recipient"],className:"bw-mb-4",rules:[{required:!0,type:"email"}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{hidden:!0,name:["manager_email","cc_emails"]},c.createElement(x,null))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.new_booking_manager,manager_email:k.manager_email})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("new_booking_manager",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function ce(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.new_pending_booking_customer};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await N("new_pending_booking_customer",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.new_pending_booking_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("New Pending Booking Notification To %(customer)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__(" Trigger when a %(customer)s makes a New Pending booking. This email will be sent to the %(customer)s.","bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement("div",{className:"bw-mb-4 bw-grid bw-grid-cols-[repeat(24,minmax(0,1fr))]"},c.createElement("div",{className:"bw-col-span-7"}),c.createElement("div",{style:{gridColumn:"span 17 / span 17"},className:"bw-flex bw-items-center bw-gap-2"},c.createElement(u.Form.Item,{name:["notice_options","enabled"],valuePropName:"checked",trigger:"onCheckedChange",noStyle:!0},c.createElement(b.Switch,{id:"enable-notice"})),c.createElement(b.Label,{htmlFor:"enable-notice",className:"bw-cursor-pointer bw-font-medium"},"Enable This Email Notification."))),c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.new_pending_booking_customer})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("new_pending_booking_customer",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function be(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.manual_resend_appt_agent};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await S("manual_resend_appt_agent",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.manual_resend_appt_agent=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("Resend Appointment Details To %(agent)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__('Apply when Manager click "Resend Email to %(agent)s".',"bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.manual_resend_appt_agent})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("manual_resend_appt_agent",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function ue(){const[e]=u.Form.useForm(),[t,a]=m.useState(!1),r={notice_options:window.booksterManagerData.emailSettings.notifications.manual_resend_appt_customer};return c.createElement(u.Form,{form:e,labelAlign:"left",labelCol:{span:7},wrapperCol:{span:17},onFinish:async function(e){try{a(!0),await S("manual_resend_appt_customer",e.notice_options),b.toast.success(i.__("Email Options has been Saved Successfully!","bookster")),window.booksterManagerData.emailSettings.notifications.manual_resend_appt_customer=e.notice_options}catch(t){const e=await n.getErrorMsg(t);b.toast.error(e)}finally{a(!1)}},initialValues:r},c.createElement("div",{className:"bw-relative bw-me-auto bw-grid bw-max-w-screen-2xl bw-grid-cols-1 bw-gap-4 xl:bw-grid-cols-2 2xl:bw-grid-cols-[3fr,2fr]"},c.createElement(b.LoadingOverlay,{loading:t}),c.createElement("div",null,c.createElement("div",{className:"bw-flex bw-items-center bw-gap-2"},c.createElement("h4",{className:"bw-text-xl bw-font-medium bw-text-base-foreground"},i.sprintf(i.__("Resend Appointment Details To  %(customer)s","bookster"),s)),c.createElement(ne,null)),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__('Apply when Manager click "Resend Email to %(customer)s',"bookster"),s),c.createElement("br",null),'Click the "Send Preview Email" button to ensure the options is sent correctly.'),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-6"}),c.createElement("div",{className:"bw-mb-8"},c.createElement(u.Form.Item,{label:"Subject",name:["notice_options","subject"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Heading",name:["notice_options","heading"],className:"bw-mb-4",rules:[{required:!0,max:100}]},c.createElement(b.Input,null)),c.createElement(u.Form.Item,{label:"Message",name:["notice_options","message"],className:"bw-mb-4",rules:[{required:!0,max:500}]},c.createElement(b.Textarea,{rows:3}))),c.createElement(b.Separator,{className:"bw-my-6"}),c.createElement("div",{className:"bw-flex bw-gap-2"},c.createElement(b.Button,{className:"bw-ms-auto bw-w-40",variant:"trivial",onClick:async function(){e.setFieldsValue({notice_options:k.notifications.manual_resend_appt_customer})}},"Reset To Default"),c.createElement(b.Button,{className:"bw-w-40",type:"submit"},"Save Changes"))),c.createElement("div",null,c.createElement(le,{onSendPreviewEmail:async function(t){try{a(!0);const n=e.getFieldsValue();await C("manual_resend_appt_customer",t,n.notice_options),b.toast.success(i.__("Preview Email has been Sent Successfully!","bookster"))}catch(r){const e=await n.getErrorMsg(r);b.toast.error(e)}finally{a(!1)}}}))))}function pe(){const e=n.useMatch("integrations/email/notifications/:eventId"),t=null==e?void 0:e.params.eventId,a=void 0===t;return c.createElement(c.Fragment,null,a&&c.createElement(Q,null),"new_booking_manager"===t&&c.createElement(me,null),"new_pending_booking_customer"===t&&c.createElement(ce,null),"approved_appt_customer"===t&&c.createElement(ie,null),"approved_appt_agent"===t&&c.createElement(oe,null),"canceled_appt_agent"===t&&c.createElement(se,null),"manual_resend_appt_customer"===t&&c.createElement(ue,null),"manual_resend_appt_agent"===t&&c.createElement(be,null))}function de(){const e=n.useMatch("integrations/email/:menuId/*"),t=(null==e?void 0:e.params.menuId)||"options",a=n.useNavigate();return c.createElement(b.TabsRoot,{value:t,className:"-bw-mt-2 bw-flex bw-flex-row bw-space-x-3"},c.createElement("aside",{className:"bw-w-48 bw-flex-none"},c.createElement(b.ReactTabs.List,{className:"bw-flex bw-flex-col bw-space-y-1"},c.createElement(b.VerticalTabsTrigger,{value:"options",onClick:()=>a("/integrations/email/options")},c.createElement(d.Settings,{className:"bw-mr-2"}),"Options"),c.createElement(b.VerticalTabsTrigger,{value:"notifications",onClick:()=>a("/integrations/email/notifications")},c.createElement(d.AlarmClock,{className:"bw-mr-2"}),"Notifications"))),c.createElement("div",{className:"bw-grow"},c.createElement(b.TabsContent,{value:"options"},c.createElement($,null)),c.createElement(b.TabsContent,{value:"notifications"},c.createElement(pe,null))))}function ge(){const e=n.useNavigate();return c.createElement(c.Fragment,null,c.createElement("h4",{className:"bw-text-xl bw-font-semibold"},"Automation and Integrations"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},"Install Addons and extend your workflow, connect with other tools and automate your tasks."),c.createElement(b.Separator,{className:"bw-mb-12 bw-mt-6"}),c.createElement("div",{className:"bw-flex bw-flex-row bw-items-center bw-justify-between"},c.createElement("div",null,c.createElement("h5",{className:"bw-text-lg bw-font-medium bw-leading-tight"},"Email Notifications"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},"The default notifications channel for Bookster.")),c.createElement(b.Button,{variant:"outline",onClick:()=>{e("/integrations/email")}},"Configure")),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-4"}),c.createElement("div",null,c.createElement("h5",{className:"bw-text-lg bw-font-medium bw-leading-tight"},"Payment Gateways"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("Accept payments from your %(customers)s using popular online payment %(services)s.","bookster"),s))),c.createElement("div",{className:"bw-mt-4 bw-grid bw-gap-3 bw-p-2"},c.createElement("div",{className:"bw-flex bw-flex-row bw-items-center bw-justify-between bw-rounded bw-border bw-px-4 bw-py-2"},c.createElement("h6",{className:"bw-text-base bw-font-medium bw-leading-tight"},"Stripe"),"activated"===Ee&&c.createElement(b.Button,{size:"small",variant:"outline",onClick:()=>{e("/settings/payment")}},"Configure"),"activated"!==Ee&&c.createElement(b.Button,{size:"small",variant:"trivial",onClick:()=>{e("/addons")}},"Install")),c.createElement("div",{className:"bw-flex bw-flex-row bw-items-center bw-justify-between bw-rounded bw-border bw-px-4 bw-py-2"},c.createElement("h6",{className:"bw-text-base bw-font-medium bw-leading-tight"},"Paypal"),"activated"===_e&&c.createElement(b.Button,{size:"small",variant:"outline",onClick:()=>{e("/settings/payment")}},"Configure"),"activated"!==_e&&c.createElement(b.Button,{size:"small",variant:"trivial",onClick:()=>{e("/addons")}},"Install"))),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-4"}),c.createElement("div",{className:"bw-flex bw-flex-row bw-items-center bw-justify-between"},c.createElement("div",null,c.createElement("h5",{className:"bw-text-lg bw-font-medium bw-leading-tight"},"Google Calendar and Meet"),c.createElement("p",{className:"bw-text-base bw-text-base-foreground/60"},i.sprintf(i.__("%(agent)s could connect appointments with Google Calendar and Meet.","bookster"),s))),"activated"===fe&&c.createElement(b.Button,{size:"small",variant:"outline",onClick:()=>{e("/integrations/google")}},"Configure"),"installed"===fe&&c.createElement(b.Button,{size:"small",variant:"trivial",onClick:()=>{e("/addons")}},"Active Now"),"not_installed"===fe&&c.createElement(b.Button,{variant:"trivial",className:"hover:bw-text-inherit focus:bw-ring-0 active:bw-ring-0",color:"base",asChild:!0},c.createElement("a",{href:"https://wpbookster.com/addons",target:"_blank"},"Coming Soon"))),c.createElement(b.Separator,{className:"bw-mb-8 bw-mt-4"}))}const we=window.booksterAddons.addonInfos,Ee=null==(e=we.find((e=>"bookster-stripe"===e.slug)))?void 0:e.installStatus,_e=null==(t=we.find((e=>"bookster-paypal"===e.slug)))?void 0:t.installStatus,fe=null==(a=we.find((e=>"bookster-google"===e.slug)))?void 0:a.installStatus;function ve(){const e=n.useNavigate(),{tabId:t="overview"}=n.useParams();return c.createElement(w,{className:"bw-py-6"},c.createElement(b.TabsRoot,{value:t},c.createElement("div",{className:"bw-mb-8 bw-overflow-x-auto"},c.createElement(b.TabsList,{className:"bw-mb-0 bw-min-w-max bw-justify-center bw-gap-1 bw-px-2"},c.createElement(b.CardTabsTrigger,{value:"overview",onClick:()=>{e("/integrations/overview")}},c.createElement(d.Share2,{className:"bw-mr-2"}),"Overview"),c.createElement(b.CardTabsTrigger,{value:"email",onClick:()=>{e("/integrations/email")}},c.createElement(d.Mail,{className:"bw-mr-2"}),"Email"),g.booksterHooks.applyFilters(g.HOOK_NAMES.integrations.TabsTrigger,[],e))),c.createElement(b.TabsContent,{value:"overview",className:"bw-mx-auto bw-max-w-screen-md",forceMount:!1},c.createElement(ge,null)),c.createElement(b.TabsContent,{value:"email",className:"bw-mx-auto bw-max-w-screen-2xl",forceMount:!1},c.createElement(de,null)),g.booksterHooks.applyFilters(g.HOOK_NAMES.integrations.TabsContent,[])))}export{ve as default};
