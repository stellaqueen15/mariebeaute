import{Z as e,o as t,f as n,p as o,am as r,h as i,ao as s,b2 as a,an as l,as as d,al as c,s as u,a3 as f,b3 as p,b4 as h,aa as g,b5 as v,B as m,b6 as y,b7 as R,F as C,aj as S,x as b,ae as w,ac as E,ad as x,af as k,az as D,K as M,X as N,V as P,j as H,ak as T,a7 as W,ai as I,b8 as L,b9 as z,ba as B,bb as F,aC as G,ag as A,aE as O,bc as j,bd as q,aR as U,be as K,aL as V,aU as Z,bf as _,a8 as X,k as $,bg as J,ab as Q,a_ as Y,bh as ee,av as te,aB as ne,aq as oe,ar as re,au as ie,bi as se}from"./CalendarNav.styled-1832bdf1.js";import{g as ae,h as le,j as de}from"./index-f9ec547e.js";var ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=o(),t}return ae(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,o=this.context,l=[],d=r(o.options);return e&&l.push({type:"header",key:"header",isSticky:d,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),l.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),i(s,{viewSpec:o.viewSpec},(function(e,t){return i("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},i(a,{liquid:!n.isHeightAuto&&!n.forPrint,cols:[],sections:l}))}))},t.prototype.renderHScrollLayout=function(e,t,n,o){var a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");var c=this.props,u=this.context,f=!c.forPrint&&r(u.options),p=!c.forPrint&&l(u.options),h=[];return e&&h.push({type:"header",key:"header",isSticky:f,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),h.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),p&&h.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:d}]}),i(s,{viewSpec:u.viewSpec},(function(e,t){return i("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},i(a,{liquid:!c.isHeightAuto&&!c.forPrint,colGroups:[{cols:[{span:n,minWidth:o}]}],sections:h}))}))},t}(c);function ue(e,t){for(var n=[],o=0;o<t;o++)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.row].push(s)}return n}function fe(e,t){for(var n=[],o=0;o<t;o++)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.firstCol].push(s)}return n}function pe(e,t){var n=[];if(e){for(s=0;s<t;s++)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var o=0,r=e.segs;o<r.length;o++){var i=r[o];n[i.row].segs.push(i)}}else for(var s=0;s<t;s++)n[s]=null;return n}var he=e({week:"narrow"}),ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,u(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.props;if(n.onMoreClick){var o=n.segsByEachCol,r=o.filter((function(e){return n.segIsHidden[e.eventRange.instance.instanceId]}));n.onMoreClick({date:n.date,allSegs:o,hiddenSegs:r,moreCnt:n.moreCnt,dayEl:t.rootEl,ev:e})}},t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.viewApi,r=this.props,s=r.date,a=r.dateProfile,l={num:r.moreCnt,text:r.buildMoreLinkText(r.moreCnt),view:o},d=n.navLinks?{"data-navlink":f(s,"week"),tabIndex:0}:{};return i(p,{date:s,dateProfile:a,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},(function(t,o,c,u){return i("td",le({ref:t,className:["fc-daygrid-day"].concat(o,r.extraClassNames||[]).join(" ")},c,r.extraDataAttrs),i("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&i(h,{date:s,defaultFormat:he},(function(e,t,n,o){return i("a",le({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},d),o)})),!u&&i(ye,{date:s,dateProfile:a,showDayNumber:r.showDayNumber,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),i("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef,style:{paddingBottom:r.fgPaddingBottom}},r.fgContent,Boolean(r.moreCnt)&&i("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},i(g,{hookProps:l,classNames:n.moreLinkClassNames,content:n.moreLinkContent,defaultContent:me,didMount:n.moreLinkDidMount,willUnmount:n.moreLinkWillUnmount},(function(t,n,o,r){return i("a",{onClick:e.handleMoreLinkClick,ref:t,className:["fc-daygrid-more-link"].concat(n).join(" ")},r)})))),i("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}))},t}(c);function ve(e){return e.dayNumberText}function me(e){return e.text}var ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":f(e.date),tabIndex:0}:{};return i(v,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:ve},(function(e,n){return n&&i("div",{className:"fc-daygrid-day-top",ref:e},i("a",le({className:"fc-daygrid-day-number"},t),n))}))},t}(m),Re=e({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Ce(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol}var Se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||Re,o=y(e.seg,n,t,!0,e.defaultDisplayEventEnd);return i(R,{seg:e.seg,timeText:o,defaultContent:be,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},(function(t,n,o,r){return i("a",le({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(s=e.seg.eventRange.def.url)?{href:s}:{}),r);var s}))},t}(m);function be(e){return i(C,null,i("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&i("div",{className:"fc-event-time"},e.timeText),i("div",{className:"fc-event-title"},e.event.title||i(C,null,"Â ")))}var we=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this.props;return i(S,le({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Re,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(m);function Ee(e,t){for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];i.seg.firstCol===t&&n.push(i.seg)}return n}function xe(e,t,n,o,r){for(var i=e.length,s={},a=[],l=0;l<i;l++)a.push([]);for(l=0;l<i;l++)for(var d=0,c=0,u=n[l];c<u.length;c++){var f=u[c];r(f,d)?p(f):h(f),f.top!==f.bottom&&d++}function p(e){var t=e.seg,n=t.eventRange.instance.instanceId;if(!s[n]){s[n]=!0;for(var o=t.firstCol;o<=t.lastCol;o++)a[o].push(e)}}function h(n){var r=n.seg,i=r.eventRange.instance.instanceId;if(!t[i]){t[i]=!0;for(var s=r.firstCol;s<=r.lastCol;s++){var l=++e[s];if(o&&1===l){var d=a[s].pop();d&&h(d)}}}}}var ke=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new b,t.frameElRefs=new b,t.fgElRefs=new b,t.segHarnessRefs=new b,t.rootElRef=o(),t.state={framePositions:null,maxContentHeight:null,segHeights:{}},t}return ae(n,e),n.prototype.render=function(){var e=this,t=this,n=t.props,o=t.state,r=t.context,s=n.cells.length,a=fe(n.businessHourSegs,s),l=fe(n.bgEventSegs,s),d=fe(this.getHighlightSegs(),s),c=fe(this.getMirrorSegs(),s),u=function(e,t,n,o,r,i,s,a){for(var l=[],d=[],c={},u={},f={},p={},h={},g=0;g<s;g++)l.push([]),d.push(0);for(var v=0,m=t=G(t,a);v<m.length;v++)x(w=m[v],r[w.eventRange.instance.instanceId+":"+w.firstCol]||0);!0===n||!0===o?function(e,t,n,o){xe(e,t,n,!0,(function(e){return e.bottom<=o}))}(d,c,l,i):"number"==typeof n?function(e,t,n,o){xe(e,t,n,!1,(function(e,t){return t<o}))}(d,c,l,n):"number"==typeof o&&function(e,t,n,o){xe(e,t,n,!0,(function(e,t){return t<o}))}(d,c,l,o);for(var y=0;y<s;y++){for(var R=0,C=0,S=0,b=l[y];S<b.length;S++){var w,E=b[S];c[(w=E.seg).eventRange.instance.instanceId]||(u[w.eventRange.instance.instanceId]=E.top,w.firstCol===w.lastCol&&w.isStart&&w.isEnd?(f[w.eventRange.instance.instanceId]=E.top-R,C=0,R=E.bottom):C+=E.bottom-E.top)}C&&(d[y]?p[y]=C:h[y]=C)}function x(e,t){if(!k(e,t,0))for(var n=e.firstCol;n<=e.lastCol;n++)for(var o=0,r=l[n];o<r.length;o++)if(k(e,t,r[o].bottom))return}function k(e,t,n){if(function(e,t,n){for(var o=e.firstCol;o<=e.lastCol;o++)for(var r=0,i=l[o];r<i.length;r++){var s=i[r];if(n<s.bottom&&n+t>s.top)return!1}return!0}(e,t,n)){for(var o=e.firstCol;o<=e.lastCol;o++){for(var r=l[o],i=0;i<r.length&&n>=r[i].top;)i++;r.splice(i,0,{seg:e,top:n,bottom:n+t})}return!0}return!1}for(var D in r)r[D]||(c[D.split(":")[0]]=!0);var M=l.map(Ee),N=l.map((function(t,n){var o=function(e){for(var t=[],n=0,o=e;n<o.length;n++){var r=o[n];t.push(r.seg)}return t}(t);return o=function(e,t,n){for(var o={start:t,end:H(t,1)},r=[],i=0,s=e;i<s.length;i++){var a=s[i],l=a.eventRange,d=l.range,c=A(d,o);c&&r.push(le(le({},a),{firstCol:n,lastCol:n,eventRange:{def:l.def,ui:le(le({},l.ui),{durationEditable:!1}),instance:l.instance,range:c},isStart:a.isStart&&c.start.valueOf()===d.start.valueOf(),isEnd:a.isEnd&&c.end.valueOf()===d.end.valueOf()}))}return r}(o,e[n].date,n),o}));return{segsByFirstCol:M,segsByEachCol:N,segIsHidden:c,segTops:u,segMarginTops:f,moreCnts:d,moreTops:p,paddingBottoms:h}}(n.cells,n.fgEventSegs,n.dayMaxEvents,n.dayMaxEventRows,o.segHeights,o.maxContentHeight,s,r.options.eventOrder),f=u.paddingBottoms,p=u.segsByFirstCol,h=u.segsByEachCol,g=u.segIsHidden,v=u.segTops,m=u.segMarginTops,y=u.moreCnts,R=u.moreTops,S=n.eventDrag&&n.eventDrag.affectedInstances||n.eventResize&&n.eventResize.affectedInstances||{};return i("tr",{ref:this.rootElRef},n.renderIntro&&n.renderIntro(),n.cells.map((function(t,o){var r=e.renderFgSegs(p[o],g,v,m,S,n.todayRange),s=e.renderFgSegs(c[o],{},v,{},{},n.todayRange,Boolean(n.eventDrag),Boolean(n.eventResize),!1),u=n.showWeekNumbers&&0===o;return i(ge,{key:t.key,elRef:e.cellElRefs.createRef(t.key),innerElRef:e.frameElRefs.createRef(t.key),dateProfile:n.dateProfile,date:t.date,showDayNumber:n.showDayNumbers||u,showWeekNumber:u,todayRange:n.todayRange,extraHookProps:t.extraHookProps,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,moreCnt:y[o],buildMoreLinkText:n.buildMoreLinkText,onMoreClick:n.onMoreClick,segIsHidden:g,moreMarginTop:R[o],segsByEachCol:h[o],fgPaddingBottom:f[o],fgContentElRef:e.fgElRefs.createRef(t.key),fgContent:i(C,null,i(C,null,r),i(C,null,s)),bgContent:i(C,null,e.renderFillSegs(d[o],"highlight"),e.renderFillSegs(a[o],"non-business"),e.renderFillSegs(l[o],"bg-event"))})})))},n.prototype.componentDidMount=function(){this.updateSizing(!0)},n.prototype.componentDidUpdate=function(e,n){var o=this.props;this.updateSizing(!t(e,o))},n.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},n.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},n.prototype.renderFgSegs=function(e,t,n,o,r,s,a,l,d){var c=this.context,u=this.props.eventSelection,f=this.state.framePositions,p=1===this.props.cells.length,h=[];if(f)for(var g=0,v=e;g<v.length;g++){var m=v[g],y=m.eventRange.instance.instanceId,R=a||l||d,C=r[y],S=t[y]||C,b=t[y]||R||m.firstCol!==m.lastCol||!m.isStart||!m.isEnd,E=void 0,x=void 0,k=void 0,D=void 0;b?(x=n[y],c.isRtl?(D=0,k=f.lefts[m.lastCol]-f.lefts[m.firstCol]):(k=0,D=f.rights[m.firstCol]-f.rights[m.lastCol])):E=o[y],h.push(i("div",{className:"fc-daygrid-event-harness"+(b?" fc-daygrid-event-harness-abs":""),key:y,ref:R?null:this.segHarnessRefs.createRef(y+":"+m.firstCol),style:{visibility:S?"hidden":"",marginTop:E||"",top:x||"",left:k||"",right:D||""}},Ce(m)?i(Se,le({seg:m,isDragging:a,isSelected:y===u,defaultDisplayEventEnd:p},w(m,s))):i(we,le({seg:m,isDragging:a,isResizing:l,isDateSelecting:d,isSelected:y===u,defaultDisplayEventEnd:p},w(m,s)))))}return h},n.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,o=this.props.todayRange,r=this.state.framePositions,s=[];if(r)for(var a=0,l=e;a<l.length;a++){var d=l[a],c=n?{right:0,left:r.lefts[d.lastCol]-r.lefts[d.firstCol]}:{left:0,right:r.rights[d.firstCol]-r.rights[d.lastCol]};s.push(i("div",{key:E(d.eventRange),className:"fc-daygrid-bg-harness",style:c},"bg-event"===t?i(x,le({seg:d},w(d,o))):k(t)))}return i.apply(void 0,de([C,{}],s))},n.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(null!==t.clientWidth){if(e){var o=t.cells.map((function(e){return n.currentMap[e.key]}));if(o.length){var r=this.rootElRef.current;this.setState({framePositions:new D(r,o,!0,!1)})}}var i=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:i?this.computeMaxContentHeight():null})}},n.prototype.computeSegHeights=function(){return M(this.segHarnessRefs.currentMap,(function(e){return e.getBoundingClientRect().height}))},n.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top},n.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map((function(t){return e[t.key]}))},n}(c);ke.addStateEquality({segHeights:t});var De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repositioner=new N(t.updateSize.bind(t)),t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&u(t.props.elRef,e)},t.handleDocumentMousedown=function(e){var n=t.props.onClose;n&&!t.rootEl.contains(e.target)&&n()},t.handleDocumentScroll=function(){t.repositioner.request(10)},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return ae(t,e),t.prototype.render=function(){var e=this.context.theme,t=this.props,n=["fc-popover",e.getClass("popover")].concat(t.extraClassNames||[]);return i("div",le({className:n.join(" ")},t.extraAttrs,{ref:this.handleRootEl}),i("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},i("span",{className:"fc-popover-title"},t.title),i("span",{className:"fc-popover-close "+e.getIconClass("close"),onClick:this.handleCloseClick})),i("div",{className:"fc-popover-body "+e.getClass("popoverContent")},t.children))},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("scroll",this.handleDocumentScroll),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("scroll",this.handleDocumentScroll)},t.prototype.updateSize=function(){var e=this.props,t=e.alignmentEl,n=e.topAlignmentEl,o=this.rootEl;if(o){var r,i=o.getBoundingClientRect(),s=t.getBoundingClientRect(),a=n?n.getBoundingClientRect().top:s.top;a=Math.min(a,window.innerHeight-i.height-10),a=Math.max(a,10),r=this.context.isRtl?s.right-i.width:s.left,r=Math.min(r,window.innerWidth-i.width-10),r=Math.max(r,10),P(o,{top:a,left:r})}},t}(m),Me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePopoverEl=function(e){t.popoverEl=e,e?t.context.registerInteractiveComponent(t,{el:e,useEventCenter:!1}):t.context.unregisterInteractiveComponent(t)},t}return ae(t,e),t.prototype.render=function(){var e=this.context,t=e.options,n=e.dateEnv,o=this.props,r=o.date,s=o.hiddenInstances,a=o.todayRange,l=o.dateProfile,d=o.selectedInstanceId,c=n.format(r,t.dayPopoverFormat);return i(p,{date:r,dateProfile:l,todayRange:a,elRef:this.handlePopoverEl},(function(e,t,n){return i(De,{elRef:e,title:c,extraClassNames:["fc-more-popover"].concat(t),extraAttrs:n,onClose:o.onCloseClick,alignmentEl:o.alignmentEl,topAlignmentEl:o.topAlignmentEl},i(v,{date:r,dateProfile:l,todayRange:a},(function(e,t){return t&&i("div",{className:"fc-more-popover-misc",ref:e},t)})),o.segs.map((function(e){var t=e.eventRange.instance.instanceId;return i("div",{className:"fc-daygrid-event-harness",key:t,style:{visibility:s[t]?"hidden":""}},Ce(e)?i(Se,le({seg:e,isDragging:!1,isSelected:t===d,defaultDisplayEventEnd:!1},w(e,a))):i(we,le({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===d,defaultDisplayEventEnd:!1},w(e,a))))})))}))},t.prototype.queryHit=function(e,t,n,o){var r=this.props.date;if(e<n&&t<o)return{component:this,dateSpan:{allDay:!0,range:{start:r,end:H(r,1)}},dayEl:this.popoverEl,rect:{left:0,top:0,right:n,bottom:o},layer:1}},t.prototype.isPopover=function(){return!0},t}(c),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=T(ue),t.splitBgEventSegs=T(ue),t.splitFgEventSegs=T(ue),t.splitDateSelectionSegs=T(ue),t.splitEventDrag=T(pe),t.splitEventResize=T(pe),t.buildBuildMoreLinkText=T(Pe),t.rowRefs=new b,t.state={morePopoverState:null},t.handleRootEl=function(e){t.rootEl=e,u(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.context,o=n.dateEnv,r=n.options.moreLinkClick;function i(e){var t=e.eventRange,r=t.def,i=t.instance,s=t.range;return{event:new O(n,r,i),start:o.toDate(s.start),end:o.toDate(s.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:o.toDate(e.date),allDay:!0,allSegs:e.allSegs.map(i),hiddenSegs:e.hiddenSegs.map(i),jsEvent:e.ev,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(e.date,r):t.setState({morePopoverState:le(le({},e),{currentFgEventSegs:t.props.fgEventSegs})})},t.handleMorePopoverClose=function(){t.setState({morePopoverState:null})},t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,o=t.dayMaxEventRows,r=t.dayMaxEvents,s=t.expandRows,a=this.state.morePopoverState,l=t.cells.length,d=this.splitBusinessHourSegs(t.businessHourSegs,l),c=this.splitBgEventSegs(t.bgEventSegs,l),u=this.splitFgEventSegs(t.fgEventSegs,l),f=this.splitDateSelectionSegs(t.dateSelectionSegs,l),p=this.splitEventDrag(t.eventDrag,l),h=this.splitEventResize(t.eventResize,l),g=this.buildBuildMoreLinkText(this.context.options.moreLinkText),v=!0===r||!0===o;return v&&!s&&(v=!1,o=null,r=null),i("div",{className:["fc-daygrid-body",v?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},i(W,{unit:"day"},(function(v,m){return i(C,null,i("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:s?t.clientHeight:""}},t.colGroupNode,i("tbody",null,t.cells.map((function(s,a){return i(ke,{ref:e.rowRefs.createRef(a),key:s.length?s[0].date.toISOString():a,showDayNumbers:l>1,showWeekNumbers:t.showWeekNumbers,todayRange:m,dateProfile:n,cells:s,renderIntro:t.renderRowIntro,businessHourSegs:d[a],eventSelection:t.eventSelection,bgEventSegs:c[a].filter(He),fgEventSegs:u[a],dateSelectionSegs:f[a],eventDrag:p[a],eventResize:h[a],dayMaxEvents:r,dayMaxEventRows:o,clientWidth:t.clientWidth,clientHeight:t.clientHeight,buildMoreLinkText:g,onMoreClick:e.handleMoreLinkClick})})))),!t.forPrint&&a&&a.currentFgEventSegs===t.fgEventSegs&&i(Me,{date:a.date,dateProfile:n,segs:a.allSegs,alignmentEl:a.dayEl,topAlignmentEl:1===l?t.headerAlignElRef.current:null,onCloseClick:e.handleMorePopoverClose,selectedInstanceId:t.eventSelection,hiddenInstances:(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{},todayRange:m}))})))},t.prototype.prepareHits=function(){this.rowPositions=new D(this.rootEl,this.rowRefs.collect().map((function(e){return e.getCellEls()[0]})),!1,!0),this.colPositions=new D(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.positionToHit=function(e,t){var n=this.colPositions,o=this.rowPositions,r=n.leftToIndex(e),i=o.topToIndex(t);if(null!=i&&null!=r)return{row:i,col:r,dateSpan:{range:this.getCellRange(i,r),allDay:!0},dayEl:this.getCellEl(i,r),relativeRect:{left:n.lefts[r],right:n.rights[r],top:o.tops[i],bottom:o.bottoms[i]}}},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:H(n,1)}},t}(c);function Pe(e){return"function"==typeof e?e:function(t){return"+"+t+" "+e}}function He(e){return e.eventRange.def.allDay}var Te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new We,t.tableRef=o(),t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return i(Ne,le({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t.prototype.prepareHits=function(){this.tableRef.current.prepareHits()},t.prototype.queryHit=function(e,t){var n=this.tableRef.current.positionToHit(e,t);if(n)return{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},t}(c),We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return ae(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(I);function Ie(e,t){var n=new j(e.renderRange,t);return new q(n,/year|month|week/.test(e.currentRangeUnit))}var Le=n({initialView:"dayGridMonth",optionRefiners:{moreLinkClick:U,moreLinkClassNames:U,moreLinkContent:U,moreLinkDidMount:U,moreLinkWillUnmount:U},views:{dayGrid:{component:function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=T(Ie),t.headerRef=o(),t.tableRef=o(),t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateProfileGenerator,r=this.props,s=this.buildDayTableModel(r.dateProfile,o),a=n.dayHeaders&&i(L,{ref:this.headerRef,dateProfile:r.dateProfile,dates:s.headerDates,datesRepDistinctDays:1===s.rowCnt}),l=function(t){return i(Te,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:s,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(a,l,s.colCnt,n.dayMinWidth):this.renderSimpleLayout(a,l)},t}(ce),dateProfileGeneratorClass:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.buildRenderRange=function(t,n,o){var r,i=this.props.dateEnv,s=e.prototype.buildRenderRange.call(this,t,n,o),a=s.start,l=s.end;if(/^(year|month)$/.test(n)&&(a=i.startOfWeek(a),(r=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=z(r,1))),this.props.monthMode&&this.props.fixedWeekCount){var d=Math.ceil(B(a,l));l=z(l,6-d)}return{start:a,end:l}},t}(F)},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}}),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?K(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(V),Be=function(){function e(e,t,n){this.positions=e,this.dateProfile=t,this.slatMetas=n}return e.prototype.safeComputeTop=function(e){var t=this.dateProfile;if(ne(t.currentRange,e)){var n=oe(e),o=e.valueOf()-n.valueOf();if(o>=re(t.slotMinTime)&&o<re(t.slotMaxTime))return this.computeTimeTop(ie(o))}},e.prototype.computeDateTop=function(e,t){return t||(t=oe(e)),this.computeTimeTop(ie(e.valueOf()-t.valueOf()))},e.prototype.computeTimeTop=function(e){var t,n,o=this,r=o.positions,i=o.dateProfile,s=o.slatMetas,a=r.els.length,l=s[1].date.valueOf()-s[0].date.valueOf(),d=(e.milliseconds-re(i.slotMinTime))/l;return d=Math.max(0,d),d=Math.min(a,d),t=Math.floor(d),n=d-(t=Math.min(t,a-1)),r.tops[t]+r.getHeight(t)*n},e}(),Fe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=o(),t.slatElRefs=new b,t}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return i("div",{className:"fc-timegrid-slots",ref:this.rootElRef},i("table",{className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,i(Ae,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))},t.prototype.componentDidMount=function(){this.updateSizing()},t.prototype.componentDidUpdate=function(){this.updateSizing()},t.prototype.componentWillUnmount=function(){this.props.onCoords&&this.props.onCoords(null)},t.prototype.updateSizing=function(){var e,t=this.props;t.onCoords&&null!==t.clientWidth&&this.rootElRef.current.offsetHeight&&t.onCoords(new Be(new D(this.rootElRef.current,(e=this.slatElRefs.currentMap,t.slatMetas.map((function(t){return e[t.key]}))),!1,!0),this.props.dateProfile,t.slatMetas))},t}(m),Ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options,o=e.slatElRefs;return i("tbody",null,e.slatMetas.map((function(r,s){var a={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi},l=["fc-timegrid-slot","fc-timegrid-slot-lane",r.isLabeled?"":"fc-timegrid-slot-minor"];return i("tr",{key:r.key,ref:o.createRef(r.key)},e.axis&&i(je,le({},r)),i(g,{hookProps:a,classNames:n.slotLaneClassNames,content:n.slotLaneContent,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount},(function(e,t,n,o){return i("td",{ref:e,className:l.concat(t).join(" "),"data-time":r.isoTimeStr},o)})))})))},t}(m),Oe=e({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function je(t){var n=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return i(Z.Consumer,null,(function(o){if(t.isLabeled){var r=o.dateEnv,s=o.options,a=o.viewApi,l=null==s.slotLabelFormat?Oe:Array.isArray(s.slotLabelFormat)?e(s.slotLabelFormat[0]):e(s.slotLabelFormat),d={time:t.time,date:r.toDate(t.date),view:a,text:r.format(t.date,l)};return i(g,{hookProps:d,classNames:s.slotLabelClassNames,content:s.slotLabelContent,defaultContent:qe,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},(function(e,o,r,s){return i("td",{ref:e,className:n.concat(o).join(" "),"data-time":t.isoTimeStr},i("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},i("div",{className:"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion",ref:r},s)))}))}return i("td",{className:n.join(" "),"data-time":t.isoTimeStr})}))}function qe(e){return e.text}function Ue(e,t,n,o,r){for(var i=new Date(0),s=e,a=ie(0),l=n||function(e){var t,n,o;for(t=Fe.length-1;t>=0;t--)if(n=ie(Fe[t]),null!==(o=te(n,e))&&o>1)return n;return e}(o),d=[];re(s)<re(t);){var c=r.add(i,s),u=null!==te(a,l);d.push({date:c,time:s,key:c.toISOString(),isoTimeStr:se(c),isLabeled:u}),s=J(s,o),a=J(a,o)}return d}var Ke=e({week:"short"}),Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allDaySplitter=new ze,t.headerElRef=o(),t.rootElRef=o(),t.scrollerElRef=o(),t.state={slatCoords:null},t.handleScrollTopRequest=function(e){var n=t.scrollerElRef.current;n&&(n.scrollTop=e)},t.renderHeadAxis=function(e){void 0===e&&(e="");var n=t.context.options,o=t.props.dateProfile.renderRange,r=_(o.start,o.end),s=n.navLinks&&1===r?{"data-navlink":f(o.start,"week"),tabIndex:0}:{};return n.weekNumbers?i(h,{date:o.start,defaultFormat:Ke},(function(t,n,o,r){return i("th",{ref:t,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},i("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid",style:{height:e}},i("a",le({ref:o,className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion"},s),r)))})):i("th",{className:"fc-timegrid-axis"},i("div",{className:"fc-timegrid-axis-frame",style:{height:e}}))},t.renderTableRowAxis=function(e){var n=t.context,o=n.options,r=n.viewApi,s={text:o.allDayText,view:r};return i(g,{hookProps:s,classNames:o.allDayClassNames,content:o.allDayContent,defaultContent:Ze,didMount:o.allDayDidMount,willUnmount:o.allDayWillUnmount},(function(t,n,o,r){return i("td",{ref:t,className:["fc-timegrid-axis","fc-scrollgrid-shrink"].concat(n).join(" ")},i("div",{className:"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame"+(null==e?" fc-timegrid-axis-frame-liquid":""),style:{height:e}},i("span",{className:"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion",ref:o},r)))}))},t.handleSlatCoords=function(e){t.setState({slatCoords:e})},t}return ae(t,e),t.prototype.renderSimpleLayout=function(e,t,n){var o=this.context,l=this.props,d=[],c=r(o.options);return e&&d.push({type:"header",key:"header",isSticky:c,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(d.push({type:"body",key:"all-day",chunk:{content:t}}),d.push({type:"body",key:"all-day-divider",outerContent:i("tr",{className:"fc-scrollgrid-section"},i("td",{className:"fc-timegrid-divider "+o.theme.getClass("tableCellShaded")}))})),d.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(o.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:n}}),i(s,{viewSpec:o.viewSpec,elRef:this.rootElRef},(function(e,t){return i("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},i(a,{liquid:!l.isHeightAuto&&!l.forPrint,cols:[{width:"shrink"}],sections:d}))}))},t.prototype.renderHScrollLayout=function(e,t,n,o,a,c,u){var f=this,p=this.context.pluginHooks.scrollGridImpl;if(!p)throw new Error("No ScrollGrid implementation");var h=this.context,g=this.props,v=!g.forPrint&&r(h.options),m=!g.forPrint&&l(h.options),y=[];e&&y.push({type:"header",key:"header",isSticky:v,syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return i("tr",null,f.renderHeadAxis(e.rowSyncHeights[0]))}},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(y.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:function(e){return i("tr",null,f.renderTableRowAxis(e.rowSyncHeights[0]))}},{key:"cols",content:t}]}),y.push({key:"all-day-divider",type:"body",outerContent:i("tr",{className:"fc-scrollgrid-section"},i("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));var R=h.options.nowIndicator;return y.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(h.options.expandRows),chunks:[{key:"axis",content:function(e){return i("div",{className:"fc-timegrid-axis-chunk"},i("table",null,e.tableColGroupNode,i("tbody",null,i(_e,{slatMetas:c}))),i("div",{className:"fc-timegrid-now-indicator-container"},i(W,{unit:R?"minute":"day"},(function(e){var t=R&&u&&u.safeComputeTop(e);if("number"==typeof t)return i(X,{isAxis:!0,date:e},(function(e,n,o,r){return i("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(n).join(" "),style:{top:t}},r)}))}))))}},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),m&&y.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:d},{key:"cols",content:d}]}),i(s,{viewSpec:h.viewSpec,elRef:this.rootElRef},(function(e,t){return i("div",{className:["fc-timegrid"].concat(t).join(" "),ref:e},i(p,{liquid:!g.isHeightAuto&&!g.forPrint,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:o,minWidth:a}]}],sections:y}))}))},t.prototype.getAllDayMaxEventProps=function(){var e=this.context.options,t=e.dayMaxEvents,n=e.dayMaxEventRows;return!0!==t&&!0!==n||(t=void 0,n=5),{dayMaxEvents:t,dayMaxEventRows:n}},t}(c);function Ze(e){return e.text}var _e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){return this.props.slatMetas.map((function(e){return i("tr",{key:e.key},i(je,le({},e)))}))},t}(m);function Xe(e,t){var n,o=[];for(n=0;n<t;n++)o.push([]);if(e)for(n=0;n<e.length;n++)o[e[n].col].push(e[n]);return o}function $e(e,t){var n=[];if(e){for(s=0;s<t;s++)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var o=0,r=e.segs;o<r.length;o++){var i=r[o];n[i.col].segs.push(i)}}else for(var s=0;s<t;s++)n[s]=null;return n}function Je(e,t,n,o){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.top=n.computeDateTop(s.start,t),s.bottom=Math.max(s.top+(o||0),n.computeDateTop(s.end,t))}}function Qe(e,t,n){void 0===n&&(n=[]);for(var o=0;o<t.length;o++)r=e,i=t[o],r.bottom>i.top&&r.top<i.bottom&&n.push(t[o]);var r,i;return n}function Ye(e){var t,n,o=e.forwardSegs,r=0;if(null==e.forwardPressure){for(t=0;t<o.length;t++)Ye(n=o[t]),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function et(e,t,n,o){var r,i=e.forwardSegs;if(null==e.forwardCoord)for(i.length?(function(e,t){var n=e.map(tt),o=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(t);n.sort((function(e,t){return Y(e,t,o)})),n.map((function(e){return e._seg}))}(i,o),et(i[0],t+1,n,o),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),r=0;r<i.length;r++)et(i[r],0,e.forwardCoord,o)}function tt(e){var t=ee(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}var nt=e({hour:"numeric",minute:"2-digit",meridiem:!1}),ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=["fc-timegrid-event","fc-v-event"];return this.props.isCondensed&&e.push("fc-timegrid-event-condensed"),i(S,le({},this.props,{defaultTimeFormat:nt,extraClassNames:e}))},t}(m);$.timeGridEventCondensedHeight=30;var rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.selectMirror,o=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||n&&t.dateSelectionSegs||[],r=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return i(p,{elRef:t.elRef,date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps},(function(s,a,l){return i("td",le({ref:s,className:["fc-timegrid-col"].concat(a,t.extraClassNames||[]).join(" ")},l,t.extraDataAttrs),i("div",{className:"fc-timegrid-col-frame"},i("div",{className:"fc-timegrid-col-bg"},e.renderFillSegs(t.businessHourSegs,"non-business"),e.renderFillSegs(t.bgEventSegs,"bg-event"),e.renderFillSegs(t.dateSelectionSegs,"highlight")),i("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(t.fgEventSegs,r)),i("div",{className:"fc-timegrid-col-events"},e.renderFgSegs(o,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(n))),i("div",{className:"fc-timegrid-now-indicator-container"},e.renderNowIndicator(t.nowIndicatorSegs)),i(it,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraHookProps:t.extraHookProps})))}))},t.prototype.renderFgSegs=function(e,t,n,o,r){var i=this.props;return i.forPrint?this.renderPrintFgSegs(e):i.slatCoords?this.renderPositionedFgSegs(e,t,n,o,r):void 0},t.prototype.renderPrintFgSegs=function(e){var t=this.props;return e.map((function(e){return i("div",{className:"fc-timegrid-event-harness",key:e.eventRange.instance.instanceId},i(ot,le({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isCondensed:!1},w(e,t.todayRange,t.nowDate))))}))},t.prototype.renderPositionedFgSegs=function(e,t,n,o,r){var s=this,a=this.context,l=this.props;return(e=function(e,t,n,o,r){return Je(e,t,n,o),function(e,t){for(var n=0,o=e;n<o.length;n++)(c=o[n]).level=null,c.forwardCoord=null,c.backwardCoord=null,c.forwardPressure=null;var r,i=function(e){var t,n,o,r=[];for(t=0;t<e.length;t++){for(n=e[t],o=0;o<r.length&&Qe(n,r[o]).length;o++);n.level=o,(r[o]||(r[o]=[])).push(n)}return r}(e=G(e,t));if(function(e){var t,n,o,r,i;for(t=0;t<e.length;t++)for(n=e[t],o=0;o<n.length;o++)for((r=n[o]).forwardSegs=[],i=t+1;i<e.length;i++)Qe(r,e[i],r.forwardSegs)}(i),r=i[0]){for(var s=0,a=r;s<a.length;s++)Ye(c=a[s]);for(var l=0,d=r;l<d.length;l++){var c;et(c=d[l],0,0,t)}}return e}(e,r)}(e,l.date,l.slatCoords,a.options.eventMinHeight,a.options.eventOrder)).map((function(e){var a=e.eventRange.instance.instanceId,d=n||o||r?le({left:0,right:0},s.computeSegTopBottomCss(e)):s.computeFgSegPositionCss(e);return i("div",{className:"fc-timegrid-event-harness"+(e.level>0?" fc-timegrid-event-harness-inset":""),key:a,style:le({visibility:t[a]?"hidden":""},d)},i(ot,le({seg:e,isDragging:n,isResizing:o,isDateSelecting:r,isSelected:a===l.eventSelection,isCondensed:e.bottom-e.top<$.timeGridEventCondensedHeight},w(e,l.todayRange,l.nowDate))))}))},t.prototype.renderFillSegs=function(e,t){var n=this,o=this.context,r=this.props;if(r.slatCoords){Je(e,r.date,r.slatCoords,o.options.eventMinHeight);var s=e.map((function(e){return i("div",{key:E(e.eventRange),className:"fc-timegrid-bg-harness",style:n.computeSegTopBottomCss(e)},"bg-event"===t?i(x,le({seg:e},w(e,r.todayRange,r.nowDate))):k(t))}));return i(C,null,s)}},t.prototype.renderNowIndicator=function(e){var t=this.props,n=t.slatCoords,o=t.date;if(n)return e.map((function(e,t){return i(X,{isAxis:!1,date:o,key:t},(function(t,r,s,a){return i("div",{ref:t,className:["fc-timegrid-now-indicator-line"].concat(r).join(" "),style:{top:n.computeDateTop(e.start,o)}},a)}))}))},t.prototype.computeFgSegPositionCss=function(e){var t,n,o=this.context,r=o.isRtl,i=o.options.slotEventOverlap,s=e.backwardCoord,a=e.forwardCoord;i&&(a=Math.min(1,s+2*(a-s))),r?(t=1-a,n=s):(t=s,n=1-a);var l={zIndex:e.level+1,left:100*t+"%",right:100*n+"%"};return i&&e.forwardPressure&&(l[r?"marginLeft":"marginRight"]=20),le(le({},l),this.computeSegTopBottomCss(e))},t.prototype.computeSegTopBottomCss=function(e){return{top:e.top,bottom:-e.bottom}},t}(m),it=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.render=function(){var e=this.props;return i(v,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraHookProps:e.extraHookProps},(function(e,t){return t&&i("div",{className:"fc-timegrid-col-misc",ref:e},t)}))},t}(m),st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitFgEventSegs=T(Xe),t.splitBgEventSegs=T(Xe),t.splitBusinessHourSegs=T(Xe),t.splitNowIndicatorSegs=T(Xe),t.splitDateSelectionSegs=T(Xe),t.splitEventDrag=T($e),t.splitEventResize=T($e),t.rootElRef=o(),t.cellElRefs=new b,t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),o=t.cells.length,r=this.splitFgEventSegs(t.fgEventSegs,o),s=this.splitBgEventSegs(t.bgEventSegs,o),a=this.splitBusinessHourSegs(t.businessHourSegs,o),l=this.splitNowIndicatorSegs(t.nowIndicatorSegs,o),d=this.splitDateSelectionSegs(t.dateSelectionSegs,o),c=this.splitEventDrag(t.eventDrag,o),u=this.splitEventResize(t.eventResize,o);return i("div",{className:"fc-timegrid-cols",ref:this.rootElRef},i("table",{style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,i("tbody",null,i("tr",null,t.axis&&i("td",{className:"fc-timegrid-col fc-timegrid-axis"},i("div",{className:"fc-timegrid-col-frame"},i("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof n&&i(X,{isAxis:!0,date:t.nowDate},(function(e,t,o,r){return i("div",{ref:e,className:["fc-timegrid-now-indicator-arrow"].concat(t).join(" "),style:{top:n}},r)}))))),t.cells.map((function(n,o){return i(rt,{key:n.key,elRef:e.cellElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,nowDate:t.nowDate,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,fgEventSegs:r[o],bgEventSegs:s[o],businessHourSegs:a[o],nowIndicatorSegs:l[o],dateSelectionSegs:d[o],eventDrag:c[o],eventResize:u[o],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})}))))))},t.prototype.componentDidMount=function(){this.updateCoords()},t.prototype.componentDidUpdate=function(){this.updateCoords()},t.prototype.updateCoords=function(){var e,t=this.props;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new D(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((function(t){return e[t.key]}))),!0,!1))},t}(m),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processSlotOptions=T(lt),t.state={slatCoords:null},t.handleScrollRequest=function(e){var n=t.props.onScrollTopRequest,o=t.state.slatCoords;if(n&&o){if(e.time){var r=o.computeTimeTop(e.time);(r=Math.ceil(r))&&r++,n(r)}return!0}},t.handleColCoords=function(e){t.colCoords=e},t.handleSlatCoords=function(e){t.setState({slatCoords:e}),t.props.onSlatCoords&&t.props.onSlatCoords(e)},t}return ae(t,e),t.prototype.render=function(){var e=this.props,t=this.state;return i("div",{className:"fc-timegrid-body",ref:e.rootElRef,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},i(Ge,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),i(st,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))},t.prototype.componentDidMount=function(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)},t.prototype.componentDidUpdate=function(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)},t.prototype.componentWillUnmount=function(){this.scrollResponder.detach()},t.prototype.positionToHit=function(e,t){var n=this.context,o=n.dateEnv,r=n.options,i=this.colCoords,s=this.props.dateProfile,a=this.state.slatCoords,l=this.processSlotOptions(this.props.slotDuration,r.snapDuration),d=l.snapDuration,c=l.snapsPerSlot,u=i.leftToIndex(e),f=a.positions.topToIndex(t);if(null!=u&&null!=f){var p=a.positions.tops[f],h=a.positions.getHeight(f),g=(t-p)/h,v=f*c+Math.floor(g*c),m=this.props.cells[u].date,y=J(s.slotMinTime,Q(d,v)),R=o.add(m,y);return{col:u,dateSpan:{range:{start:R,end:o.add(R,d)},allDay:!1},dayEl:i.els[u],relativeRect:{left:i.lefts[u],right:i.rights[u],top:p,bottom:p+h}}}},t}(m);function lt(e,t){var n=t||e,o=te(e,n);return null===o&&(n=e,o=1),{snapDuration:n,snapsPerSlot:o}}var dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayRanges=T(ct),t.slicer=new ut,t.timeColsRef=o(),t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.context,o=t.dateProfile,r=t.dayTableModel,s=n.options.nowIndicator,a=this.buildDayRanges(r,o,n.dateEnv);return i(W,{unit:s?"minute":"day"},(function(l,d){return i(at,le({ref:e.timeColsRef,rootElRef:e.handleRootEl},e.slicer.sliceProps(t,o,null,n,a),{forPrint:t.forPrint,axis:t.axis,dateProfile:o,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:r.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:s&&e.slicer.sliceNowDate(l,n,a),todayRange:d,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))}))},t.prototype.queryHit=function(e,t){var n=this.timeColsRef.current.positionToHit(e,t);if(n)return{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},t}(c);function ct(e,t,n){for(var o=[],r=0,i=e.headerDates;r<i.length;r++){var s=i[r];o.push({start:n.add(s,t.slotMinTime),end:n.add(s,t.slotMaxTime)})}return o}var ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ae(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],o=0;o<t.length;o++){var r=A(e,t[o]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:o})}return n},t}(I),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildTimeColsModel=T(pt),t.buildSlatMetas=T(Ue),t}return ae(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.dateEnv,r=t.dateProfileGenerator,s=this.props,a=s.dateProfile,l=this.buildTimeColsModel(a,r),d=this.allDaySplitter.splitProps(s),c=this.buildSlatMetas(a.slotMinTime,a.slotMaxTime,n.slotLabelInterval,n.slotDuration,o),u=n.dayMinWidth,f=!u,p=u,h=n.dayHeaders&&i(L,{dates:l.headerDates,dateProfile:a,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),g=!1!==n.allDaySlot&&function(t){return i(Te,le({},d.allDay,{dateProfile:a,dayTableModel:l,nextDayThreshold:n.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:f?e.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:s.forPrint},e.getAllDayMaxEventProps()))},v=function(t){return i(dt,le({},d.timed,{dayTableModel:l,dateProfile:a,axis:f,slotDuration:n.slotDuration,slatMetas:c,forPrint:s.forPrint,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:e.handleSlatCoords,expandRows:t.expandRows,onScrollTopRequest:e.handleScrollTopRequest}))};return p?this.renderHScrollLayout(h,g,v,l.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,g,v)},t}(Ve);function pt(e,t){var n=new j(e.renderRange,t);return new q(n,!1)}var ht=n({initialView:"timeGridWeek",optionRefiners:{allDaySlot:Boolean},views:{timeGrid:{component:ft,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});export{ht as a,Le as m};
