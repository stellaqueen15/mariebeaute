var e=Object.defineProperty,t=(t,r,s)=>(((t,r,s)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s})(t,"symbol"!=typeof r?r+"":r,s),s);import{r,R as s,_ as n,a}from"./prefetch.helper-4a4e89e7.js";const l=r.forwardRef((({isSaving:e,className:t,...r},l)=>s.createElement("span",{className:n.cx("bw-ms-3 bw-inline-flex bw-items-center bw-gap-2 bw-text-base bw-font-normal bw-text-base-foreground/60",!1===e&&"bw-text-success",t),...r,ref:l},null===e&&null,!1===e&&s.createElement(s.Fragment,null,s.createElement(a.CheckCircle,null)," Saved"),!0===e&&s.createElement(s.Fragment,null,s.createElement(a.Loader2,{className:"bw-animate-spin"})," Saving..."))));var i=ReactDOM;class o{constructor(){t(this,"queue",Promise.resolve(-1)),t(this,"incrementId",1),t(this,"completeCb")}add(e,t){this.completeCb=t,this.incrementId++;const r=this.incrementId,s=this.queue.then(e);return this.queue=s,new Promise(((e,t)=>{s.then((t=>{this.onComplete(r),e(t)})).catch((e=>{this.onError(),t(e)}))}))}onError(){this.queue=Promise.resolve(-1)}onComplete(e){this.incrementId===e&&this.completeCb&&this.completeCb()}}export{o as P,l as S,i as r};
